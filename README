# KEY MANAGEMENT FLOW
### OCCURS ON PROGRAM(S) BEING RUN.
SERVERS WILL GENERATE THEIR OWN PERMANENT RSA 2048-Bit KEYPAIR
SERVERS WILL GENERATE THEIR OWN           AES 256-Bit KEYPAIR
CLIENTS WILL GENERATE THEIR OWN           RSA 2048-Bit KEYPAIR


COMMUNICATIONS
| NUMBER | FROM | TO | NOTE |
|--------|------|----|------|
| 1   | CLIENT | SERVER | SEND HANDSHAKE BEGIN REQUEST |
| 2   | CLIENT | SERVER | SEND CLIENT PUBKEY ENCRYPTED WITH SERVER PUBKEY |
| 3   | SERVER | CLIENT | SEND 256-BIT AES KEY ENC W/CLIENT PUBKEY |
| 4   | CLIENT | SERVER | <ANY TIME> SEND ENCRYPTED LOGS WITH 256BIT AES KEY USED TO ENCRYPT THEM |
| 5   | SERVER | CLIENT | <RANDOM> KEY ROTATE, WILL MAKE CLIENT RE-HANDSHAKE (DELETE ALL KEYS STORED AND RERUN HANDSHAKE)

NOTE TO SELF - 
THE DECISION TO MAKE THE CLIENT HANDSHAKE ON SENDING LOGS, SO IT GENERATES RSA 2048 BIT KEYS AS-WHEN NEEDED
DUE TO THE HANDSHAKE'S BEHAVIOURS, FORCING KEY ROTATION IS IN ITS NATURE.
THE SERVER WILL GENERATE ITS KEYS PER-LIFE, THIS MAKES KEY MANAGEMENT EASY AS THE SERVERS DON'T START WITH ANY KEYS BUT DO A HANDSHAKE

THE SERVER WILL RUN VIA A SCHEDULER SO A MAIN PROCESS WHICH NEVER EXITS WILL RESTART THE SERVER EVERY, SAY, 24H, WHICH WILL FORCE KEYGEN AND THUS ROTATION ON THE SERVER'S END AND THEN THE CLIENTS' ENDS

KEYS END UP BEING EPHEMERAL IN THIS STRUCUTRE.

TODO:

SIGNING OF LOGS!

KEYGEN LOGIC
- CODE TO GEN 2048-BIT RSA KP
- CODE TO GEN 256-BIT  AES KP

CLIENT LOGIC
- SCHEDULER
- KEYGEN LOGIC (2048-BIT ONLY)
- HANDSHAKE LOGIC
- LOG GATHERER
- LOG ENCRYPTION
- TX/RX LOGIC

SERVER LOGIC
- SCHEDULER
- KEYGEN LOGIC (BOTH)
- HANDSHAKE LOGIC
- LOG DECRYPTOR
- TX/RX LOGIC